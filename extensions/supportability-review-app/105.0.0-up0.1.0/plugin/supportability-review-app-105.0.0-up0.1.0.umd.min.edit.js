(("undefined"!==typeof self?self:this)["webpackChunksupportability_review_app_105_0_0_up0_1_0"]=("undefined"!==typeof self?self:this)["webpackChunksupportability_review_app_105_0_0_up0_1_0"]||[]).push([[739],{81071:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return B}});var a=o(9274);const n=e=>((0,a.pushScopeId)("data-v-c32c1026"),e=e(),(0,a.popScopeId)(),e),r=n((()=>(0,a.createElementVNode)("h1",null,"EditView",-1))),i={key:0,class:"input-wrapper"},c=n((()=>(0,a.createElementVNode)("label",{for:"bundle-name"},"Bundle Name",-1))),l={class:"char-count-name"},d={key:0,class:"dropdown"},s=["onClick"],p={key:0,class:"error-text"},u=n((()=>(0,a.createElementVNode)("label",{for:"analysis"},"Analysis",-1))),m={class:"col span-8 mb-20"},h=n((()=>(0,a.createElementVNode)("label",{for:"tolerations"},"Tolerations",-1))),v=n((()=>(0,a.createElementVNode)("label",{for:"description"},"Description",-1))),w={class:"textarea-container"},x={class:"char-count-description"},b={key:1,class:"error-text"};function f(e,t,o,n,f,y){const g=(0,a.resolveComponent)("Loading"),k=(0,a.resolveComponent)("Checkbox"),N=(0,a.resolveComponent)("Tolerations"),C=(0,a.resolveComponent)("CruResource");return o.value?((0,a.openBlock)(),(0,a.createBlock)(C,{key:1,"done-route":e.doneRoute,"can-yaml":!0,mode:o.mode,resource:o.value,errors:e.errors,"validation-passed":y.isFormValid,onError:t[6]||(t[6]=t=>e.errors=t),onFinish:e.save,onCancel:e.done},{default:(0,a.withCtx)((()=>[r,y.isCreate?((0,a.openBlock)(),(0,a.createElementBlock)("div",i,[c,(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["name-container",{"dropdown-active":f.showDropdown}]),ref:"dropdown"},[(0,a.withDirectives)((0,a.createElementVNode)("input",{id:"bundle-name",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>f.customName=e),onFocus:t[1]||(t[1]=e=>f.showDropdown=!0),onInput:t[2]||(t[2]=e=>f.showDropdown=!1),placeholder:"Enter bundle name"},null,544),[[a.vModelText,f.customName]]),(0,a.createElementVNode)("span",l,(0,a.toDisplayString)(f.customName.length)+"/30",1),f.showDropdown?((0,a.openBlock)(),(0,a.createElementBlock)("div",d,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(f.dropdownOptions,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e,onClick:t=>y.selectOption(e),class:"dropdown-item"},(0,a.toDisplayString)(e),9,s)))),128))])):(0,a.createCommentVNode)("",!0)],2),y.isCustomNameValid?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("p",p,"Bundle Name must be upto 30 characters.")),u,(0,a.createElementVNode)("div",m,[(0,a.createVNode)(k,{value:f.analyzeLocalOnly,"onUpdate:value":t[3]||(t[3]=e=>f.analyzeLocalOnly=e),label:e.t("sr.reviewBundle.analyzeLocalOnly"),mode:o.mode},null,8,["value","label","mode"])]),h,(0,a.createVNode)(N,{value:o.value.spec.tolerations,"onUpdate:value":t[4]||(t[4]=e=>o.value.spec.tolerations=e),mode:o.mode},null,8,["value","mode"]),v,(0,a.createElementVNode)("div",w,[(0,a.withDirectives)((0,a.createElementVNode)("textarea",{id:"description","onUpdate:modelValue":t[5]||(t[5]=e=>f.description=e),placeholder:"Enter bundle Description"},null,512),[[a.vModelText,f.description]]),(0,a.createElementVNode)("span",x,(0,a.toDisplayString)(f.description.length)+"/100",1)]),y.isDescriptionValid?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("p",b,"Description must be upto 100 characters."))])):(0,a.createCommentVNode)("",!0)])),_:1},8,["done-route","mode","resource","errors","validation-passed","onFinish","onCancel"])):((0,a.openBlock)(),(0,a.createBlock)(g,{key:0}))}var y=o(84409),g=o(32468),k=o(91825),N=o(14220),C=o(69141),E=o(47795),V={name:"ReviewBundleEditView",components:{Checkbox:C.A,CruResource:g.A,Loading:y.A,Tolerations:E.A},mixins:[k.A],props:{value:{type:Object,required:!0},mode:{type:String,required:!0},resource:{type:String,required:!0}},data(){return this.value.metadata.name||(this.value.metadata.generateName="review-bundle-"),this.value.spec||(this.value.spec={},this.value.spec.analyzeClusters=["local"]),{analyzeLocalOnly:!0,description:"",customName:"",dropdownOptions:["review-bundle","custom-bundle"],showDropdown:!1}},watch:{analyzeLocalOnly(e){this.value.spec.analyzeClusters=e?["local"]:[]},customName(e){e?(this.value.metadata.generateName=`${e}-`,this.showDropdown=!1):(this.value.metadata.generateName="review-bundle-",this.showDropdown=!0)}},computed:{isCreate(){return this.mode===N.YQ},isView(){return this.mode!==N.YQ&&this.mode!==N.G5},editorMode(){return this.isView?EDITOR_MODES.VIEW_CODE:EDITOR_MODES.EDIT_CODE},hasBeenCreated(){return!!this.value.id},customNameLength(){return this.customName.length},descriptionLength(){return this.description.length},isCustomNameValid(){return this.customName.length>=0&&this.customName.length<=30},isDescriptionValid(){return this.description.length>=0&&this.description.length<=100},isFormValid(){return this.isCustomNameValid&&this.isDescriptionValid}},methods:{selectOption(e){this.customName=e,this.showDropdown=!1},handleClickOutside(e){this.$refs.dropdown&&!this.$refs.dropdown.contains(e.target)&&(this.showDropdown=!1)}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)}},D=(o(89450),o(47433));const _=(0,D.A)(V,[["render",f],["__scopeId","data-v-c32c1026"]]);var B=_},44345:function(e,t,o){"use strict";o.r(t);var a=o(36758),n=o.n(a),r=o(40935),i=o.n(r),c=i()(n());c.push([e.id,".name-container[data-v-c32c1026]{position:relative;width:320px}.textarea-container[data-v-c32c1026]{position:relative;width:600px}.char-count-description[data-v-c32c1026],.char-count-name[data-v-c32c1026]{position:absolute;bottom:5px;right:10px;font-weight:700;font-size:12px;color:#888}.error-text[data-v-c32c1026]{color:red;font-weight:700}label[data-v-c32c1026]{font-weight:700;font-size:22px;display:block;margin-top:20px}input[data-v-c32c1026]{width:320px;margin-bottom:5px}input[data-v-c32c1026],textarea[data-v-c32c1026]{padding:10px;font-size:16px;box-sizing:border-box;border:1px solid #ccc;border-radius:5px;font-family:Arial}textarea[data-v-c32c1026]{width:600px;margin-bottom:15px;resize:none}input[data-v-c32c1026]:focus,textarea[data-v-c32c1026]:focus{outline:none;border-color:#666}input[data-v-c32c1026]::-moz-placeholder,textarea[data-v-c32c1026]::-moz-placeholder{color:#999;font-style:italic;opacity:.7}input[data-v-c32c1026]::placeholder,textarea[data-v-c32c1026]::placeholder{color:#999;font-style:italic;opacity:.7}div[v-if=isCreate][data-v-c32c1026]{padding:20px;background-color:#a62d2d;border-radius:10px;margin-top:10px}.dropdown[data-v-c32c1026]{position:absolute;border:1px solid #ccc;border-radius:5px;width:100%;max-height:150px;overflow-y:auto;box-shadow:0 4px 6px rgba(0,0,0,.1)}.dropdown-active[data-v-c32c1026]{margin-bottom:100px}.dropdown-item[data-v-c32c1026]{padding:10px;cursor:pointer;border-bottom:1px solid #eee}.dropdown-item[data-v-c32c1026]:hover{background-color:#777}",""]),t["default"]=c},89450:function(e,t,o){var a=o(44345);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var n=o(74825).A;n("70ff3180",a,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=supportability-review-app-105.0.0-up0.1.0.umd.min.edit.js.map